import{At as e,Ct as t,Dt as n,Et as r,Mt as i,Ot as a,St as o,Tt as s,bt as c,c as l,wt as u}from"./index-CjxYS-V2.js";var d=class extends a{#client;#currentResult=void 0;#currentMutation;#mutateOptions;constructor(e,t){super(),this.#client=e,this.setOptions(t),this.bindMethods(),this.#updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#client.defaultMutationOptions(e),r(this.options,t)||this.#client.getMutationCache().notify({type:`observerOptionsUpdated`,mutation:this.#currentMutation,observer:this}),t?.mutationKey&&this.options.mutationKey&&u(t.mutationKey)!==u(this.options.mutationKey)?this.reset():this.#currentMutation?.state.status===`pending`&&this.#currentMutation.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#currentMutation?.removeObserver(this)}onMutationUpdate(e){this.#updateResult(),this.#notify(e)}getCurrentResult(){return this.#currentResult}reset(){this.#currentMutation?.removeObserver(this),this.#currentMutation=void 0,this.#updateResult(),this.#notify()}mutate(e,t){return this.#mutateOptions=t,this.#currentMutation?.removeObserver(this),this.#currentMutation=this.#client.getMutationCache().build(this.#client,this.options),this.#currentMutation.addObserver(this),this.#currentMutation.execute(e)}#updateResult(){let e=this.#currentMutation?.state??o();this.#currentResult={...e,isPending:e.status===`pending`,isSuccess:e.status===`success`,isError:e.status===`error`,isIdle:e.status===`idle`,mutate:this.mutate,reset:this.reset}}#notify(e){t.batch(()=>{if(this.#mutateOptions&&this.hasListeners()){let t=this.#currentResult.variables,n=this.#currentResult.context,r={client:this.#client,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type===`success`?(this.#mutateOptions.onSuccess?.(e.data,t,n,r),this.#mutateOptions.onSettled?.(e.data,null,t,n,r)):e?.type===`error`&&(this.#mutateOptions.onError?.(e.error,t,n,r),this.#mutateOptions.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(e=>{e(this.#currentResult)})})}},f=i(e());function p(e,r){let i=c(r),[a]=f.useState(()=>new d(i,e));f.useEffect(()=>{a.setOptions(e)},[a,e]);let o=f.useSyncExternalStore(f.useCallback(e=>a.subscribe(t.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=f.useCallback((e,t)=>{a.mutate(e,t).catch(s)},[a]);if(o.error&&n(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}const m=()=>p({mutationFn:e=>l.signUp(e)}),h=()=>p({mutationFn:e=>l.signUp(e)});var g=`/E-commerce-d/assets/login-CgtRTIYq.jpg`;export{m as n,h as r,g as t};