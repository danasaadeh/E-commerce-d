import{n as e,r as t}from"./mutations-B2i7EQTD.js";import{At as n,M as r,Mt as i,P as a,T as o,_t as s,at as c,d as l,f as u,ht as d,m as f,p,xt as m}from"./index-tjpow0Bq.js";import{i as h,n as g,o as _,t as v}from"./index.esm-BtvEY8wE.js";var y=i(n()),b=/^[A-Za-z\s]{3,20}$/,x=/^((\+?\d{1,3}[- ]?)?\d{10}$)|(^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,S=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;const C=v({name:g().trim().required(`Full name is required`).matches(b,`Name must contain only letters and be between 3â€“20 characters`),email:g().trim().required(`Email or phone number is required`).matches(x,`Enter a valid email or phone number`),password:g().required(`Password is required`).test(`password-strength`,`Password must be strong (8+ chars, uppercase, lowercase, number, special char).`,e=>e?S.test(e):!1).max(20,`Password cannot exceed 20 characters`)});var w=i(m()),T=()=>{let t=s(),n=c(),i=u(n.breakpoints.down(`md`)),{register:m,handleSubmit:g,formState:{errors:v}}=_({resolver:h(C),mode:`onTouched`}),{mutateAsync:b,isPending:x}=e(),[S,T]=(0,y.useState)({open:!1,message:``,severity:`success`}),E=(e,t)=>{t!==`clickaway`&&T(e=>({...e,open:!1}))};return(0,w.jsxs)(`div`,{className:`w-full py-10`,children:[(0,w.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 -mx-6 md:-mx-0`,children:[!i&&(0,w.jsx)(`div`,{className:`flex justify-center items-center bg-[#CBE4E8] min-h-[600px] md:min-h-screen`,children:(0,w.jsx)(`img`,{src:`/E-commerce-d/assets/login-CgtRTIYq.jpg`,alt:`Shopping illustration`,className:`w-full h-full object-cover`})}),(0,w.jsx)(`div`,{className:`flex items-center justify-center px-6 py-12 ${i?`min-h-[80vh]`:`min-h-screen`}`,children:(0,w.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,w.jsx)(`h2`,{className:`text-3xl md:text-4xl font-medium mb-6 text-center md:text-left`,children:`Create an account`}),(0,w.jsx)(`p`,{className:`text-base mb-12 text-center md:text-left`,children:`Enter your details below`}),(0,w.jsxs)(`form`,{onSubmit:g(async e=>{try{await b({email:e.email,password:e.password}),T({open:!0,message:`Account created successfully!`,severity:`success`}),setTimeout(()=>{t(l.home)},1500)}catch(e){T({open:!0,message:e?.response?.data?.message||e?.message||`Sign-up failed. Please try again.`,severity:`error`})}}),className:`space-y-10`,children:[(0,w.jsx)(p,{fullWidth:!0,placeholder:`Name`,variant:`standard`,...m(`name`),error:!!v.name,helperText:v.name?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,w.jsx)(p,{fullWidth:!0,placeholder:`Email or Phone Number`,variant:`standard`,...m(`email`),error:!!v.email,helperText:v.email?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,w.jsx)(p,{fullWidth:!0,placeholder:`Password`,type:`password`,variant:`standard`,...m(`password`),error:!!v.password,helperText:v.password?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,w.jsx)(o,{fullWidth:!0,type:`submit`,disabled:x,variant:`contained`,sx:{backgroundColor:`#DB4444`,color:`#fff`,textTransform:`none`,fontWeight:500,fontSize:`16px`,py:2,borderRadius:`4px`,mt:5,"&:hover":{backgroundColor:`#b83636`}},children:x?(0,w.jsx)(a,{size:24,color:`inherit`}):`Create Account`}),(0,w.jsx)(o,{fullWidth:!0,variant:`outlined`,startIcon:(0,w.jsx)(`img`,{src:`/src/assets/icons/Google.svg`,alt:`Google`,className:`w-6 h-6`}),sx:{textTransform:`none`,fontWeight:400,fontSize:`16px`,py:2,borderRadius:`4px`,borderColor:`rgba(0, 0, 0, 0.23)`,color:`#000`,mt:2,"&:hover":{borderColor:`rgba(0, 0, 0, 0.4)`,backgroundColor:`rgba(0, 0, 0, 0.04)`}},children:`Sign up with Google`})]}),(0,w.jsxs)(`p`,{className:`text-base text-center mt-8 flex items-center justify-center gap-4`,children:[(0,w.jsx)(`span`,{className:`opacity-70`,children:`Already have an account?`}),(0,w.jsx)(d,{to:l.auth.login,className:`font-medium underline decoration-1 underline-offset-4 hover:opacity-70 text-[#DB4444]`,children:`Log in`})]})]})})]}),(0,w.jsx)(f,{open:S.open,autoHideDuration:3e3,onClose:E,anchorOrigin:{vertical:`top`,horizontal:`right`},children:(0,w.jsx)(r,{onClose:E,severity:S.severity,variant:`filled`,sx:{width:`100%`},children:S.message})})]})};function E(){return(0,w.jsx)(T,{})}var D=E;export{D as default};