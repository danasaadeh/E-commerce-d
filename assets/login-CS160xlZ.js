import{n as e,t}from"./login-DvB6Dv30.js";import{At as n,M as r,Mt as i,P as a,T as o,_t as s,at as c,d as l,f as u,gt as d,ht as f,m as p,p as m,xt as h}from"./index-CjxYS-V2.js";import{i as g,n as _,o as v,t as y}from"./index.esm-BUPnEqM6.js";var b=i(n()),x=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,S=/^(\+?\d{1,3}[- ]?)?\d{10}$/,C=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;const w=y({email:_().trim().required(`Email or phone number is required`).test(`is-email-or-phone`,`Must be a valid email or phone number`,e=>e?x.test(e)||S.test(e):!1),password:_().required(`Password is required`).test(`password-strength`,`Password must be strong (8+ chars, uppercase, lowercase, number, special char).`,e=>e?C.test(e):!1).max(20,`Password cannot exceed 20 characters`)});var T=i(h()),E=()=>{let t=s(),n=d(),i=c(),h=u(i.breakpoints.down(`md`)),_=n.state?.from||l.home,{register:y,handleSubmit:x,formState:{errors:S}}=v({resolver:g(w),mode:`onTouched`}),{mutateAsync:C,isPending:E}=e(),[D,O]=(0,b.useState)({open:!1,message:``,severity:`success`}),k=(e,t)=>{t!==`clickaway`&&O(e=>({...e,open:!1}))};return(0,T.jsxs)(`div`,{className:`w-full py-10`,children:[(0,T.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 -mx-6 md:-mx-0`,children:[!h&&(0,T.jsx)(`div`,{className:`flex justify-center items-center bg-[#CBE4E8] min-h-[600px] md:min-h-screen`,children:(0,T.jsx)(`img`,{src:`/E-commerce-d/assets/login-CgtRTIYq.jpg`,alt:`Login illustration`,className:`w-full h-full object-cover`})}),(0,T.jsx)(`div`,{className:`flex items-center justify-center px-6 py-12 ${h?`min-h-[80vh]`:`min-h-screen`}`,children:(0,T.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,T.jsx)(`h2`,{className:`text-3xl md:text-4xl font-medium mb-6 text-center md:text-left`,children:`Log in to Exclusive`}),(0,T.jsx)(`p`,{className:`text-base mb-12 text-center md:text-left`,children:`Enter your details below`}),(0,T.jsxs)(`form`,{onSubmit:x(async e=>{try{await C({email:e.email,password:e.password}),O({open:!0,message:`Login successful! Redirecting...`,severity:`success`}),setTimeout(()=>{t(_,{replace:!0})},1500)}catch(e){O({open:!0,message:e?.response?.data?.message||e?.message||`Login failed. Please check your credentials.`,severity:`error`})}}),className:`space-y-10`,children:[(0,T.jsx)(m,{fullWidth:!0,placeholder:`Email or Phone Number`,variant:`standard`,...y(`email`),error:!!S.email,helperText:S.email?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input::placeholder":{color:`#00000066`,opacity:1}}}),(0,T.jsx)(m,{fullWidth:!0,placeholder:`Password`,type:`password`,variant:`standard`,...y(`password`),error:!!S.password,helperText:S.password?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input::placeholder":{color:`#00000066`,opacity:1}}}),(0,T.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-center justify-between pt-4 gap-4`,children:[(0,T.jsx)(o,{type:`submit`,variant:`contained`,disabled:E,sx:{backgroundColor:`#DB4444`,color:`#fff`,textTransform:`none`,fontWeight:500,px:6,py:2,borderRadius:`4px`,fontSize:`16px`,"&:hover":{backgroundColor:`#b83636`}},children:E?(0,T.jsx)(a,{size:24,color:`inherit`}):`Log In`}),(0,T.jsx)(f,{to:`/forgot-password`,className:`text-base text-[#DB4444] hover:underline`,children:`Forget Password?`})]})]})]})})]}),(0,T.jsx)(p,{open:D.open,autoHideDuration:3e3,onClose:k,anchorOrigin:{vertical:`top`,horizontal:`right`},children:(0,T.jsx)(r,{onClose:k,severity:D.severity,variant:`filled`,sx:{width:`100%`},children:D.message})})]})};function D(){return(0,T.jsx)(E,{})}var O=D;export{O as default};