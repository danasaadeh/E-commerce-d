import{n as e,t}from"./Remove-CTooOd3F.js";import{t as n}from"./NavigateNext-e3_1KK9W.js";import{n as r,t as i}from"./Link-DPdwkkS6.js";import{At as a,E as o,M as s,Mt as c,N as l,T as u,Y as d,_t as f,at as p,d as m,f as h,i as g,j as _,m as v,p as y,s as b,w as x,xt as S}from"./index-DnFRPfPh.js";import{i as C,o as w}from"./index.esm-Dwr4toAn.js";import{n as T}from"./config-Dh3HftuY.js";var E=c(a()),D=c(S()),O=()=>(0,D.jsx)(o,{className:`bg-white shadow-sm rounded-md`,sx:{py:{xs:2,md:3},px:{xs:2,sm:3,md:4,lg:6}},children:(0,D.jsxs)(o,{sx:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,textAlign:`center`,gap:{xs:1,sm:2,md:4}},children:[(0,D.jsx)(_,{variant:`body1`,className:`font-medium flex-1`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:`Product`}),(0,D.jsx)(_,{variant:`body1`,className:`font-medium flex-1 hidden sm:block`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`},textAlign:`center`},children:`Price`}),(0,D.jsx)(_,{variant:`body1`,className:`font-medium flex-1`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`},textAlign:`center`},children:`Quantity`}),(0,D.jsx)(_,{variant:`body1`,className:`font-medium flex-1`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`},textAlign:`center`},children:`Subtotal`})]})}),k=({item:n,onUpdateQuantity:r,onRemove:i})=>(0,D.jsx)(o,{className:`border-b border-gray-200 last:border-b-0`,sx:{py:{xs:2,md:3}},children:(0,D.jsxs)(o,{sx:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,gap:{xs:1,sm:2,md:4},flexWrap:`wrap`},children:[(0,D.jsxs)(o,{sx:{display:`flex`,alignItems:`center`,flex:1,minWidth:{xs:`100%`,sm:`35%`},position:`relative`,gap:{xs:1,sm:2}},children:[(0,D.jsx)(l,{size:`small`,onClick:()=>{i&&i(n.id)},className:`!bg-red-500 !text-white hover:!bg-red-600`,sx:{position:`absolute`,left:-8,top:-8,width:{xs:18,md:20},height:{xs:18,md:20}},children:(0,D.jsx)(d,{sx:{fontSize:{xs:10,md:12}}})}),(0,D.jsx)(o,{sx:{width:{xs:40,sm:50,md:60},height:{xs:40,sm:50,md:60},flexShrink:0},children:(0,D.jsx)(`img`,{src:n.image||`/placeholder.svg`,alt:n.name,className:`w-full h-full object-contain`})}),(0,D.jsx)(_,{variant:`body2`,className:`font-normal text-gray-900`,sx:{fontSize:{xs:`0.75rem`,sm:`0.875rem`,md:`1rem`}},children:n.name})]}),(0,D.jsxs)(_,{variant:`body2`,className:`text-gray-900 hidden sm:block text-center flex-1`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:[`$`,n.price]}),(0,D.jsxs)(o,{className:`flex items-center border border-gray-300 rounded`,sx:{height:{xs:32,md:36},justifyContent:`center`,flex:1,maxWidth:120},children:[(0,D.jsx)(l,{size:`small`,onClick:()=>{r&&n.quantity>1&&r(n.id,n.quantity-1)},disabled:n.quantity<=1,className:`!rounded-none hover:!bg-red-500 hover:!text-white`,sx:{px:{xs:.5,md:1},borderRadius:0},children:(0,D.jsx)(t,{sx:{fontSize:{xs:12,md:14}}})}),(0,D.jsx)(_,{variant:`body2`,className:`text-center font-medium`,sx:{minWidth:{xs:28,md:36},fontSize:{xs:`0.75rem`,md:`0.875rem`}},children:n.quantity.toString().padStart(2,`0`)}),(0,D.jsx)(l,{size:`small`,onClick:()=>{r&&r(n.id,n.quantity+1)},className:`!rounded-none hover:!bg-red-500 hover:!text-white`,sx:{px:{xs:.5,md:1},borderRadius:0},children:(0,D.jsx)(e,{sx:{fontSize:{xs:12,md:14}}})})]}),(0,D.jsxs)(_,{variant:`body2`,className:`text-gray-900 font-medium text-center flex-1`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:[`$`,n.price*n.quantity]})]})}),A=({subtotal:e,shipping:t,total:n,onCheckout:r})=>(0,D.jsxs)(o,{className:`border-2 border-gray-900 rounded-md bg-white`,sx:{p:{xs:4,md:6,lg:8}},children:[(0,D.jsx)(_,{variant:`h6`,className:`font-medium text-gray-900`,sx:{mb:{xs:3,md:4,lg:6},fontSize:{xs:`1rem`,md:`1.125rem`,lg:`1.25rem`}},children:`Cart Total`}),(0,D.jsxs)(o,{className:`space-y-4`,children:[(0,D.jsxs)(o,{className:`flex justify-between items-center pb-4 border-b border-gray-200`,children:[(0,D.jsx)(_,{variant:`body2`,className:`text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:`Subtotal:`}),(0,D.jsxs)(_,{variant:`body2`,className:`text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:[`$`,e]})]}),(0,D.jsxs)(o,{className:`flex justify-between items-center pb-4 border-b border-gray-200`,children:[(0,D.jsx)(_,{variant:`body2`,className:`text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:`Shipping:`}),(0,D.jsx)(_,{variant:`body2`,className:`text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:t})]}),(0,D.jsxs)(o,{className:`flex justify-between items-center pt-2`,children:[(0,D.jsx)(_,{variant:`body2`,className:`text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:`Total:`}),(0,D.jsxs)(_,{variant:`body2`,className:`font-medium text-gray-900`,sx:{fontSize:{xs:`0.875rem`,md:`1rem`}},children:[`$`,n]})]})]}),(0,D.jsx)(u,{variant:`contained`,color:`error`,fullWidth:!0,onClick:r,className:`!capitalize !font-medium`,sx:{mt:{xs:2,md:2},py:{xs:1,md:1,lg:2},fontSize:{xs:`0.875rem`,md:`1rem`}},children:`Proceed to Checkout`})]}),j=({onApplyCoupon:e})=>{let{register:t,handleSubmit:n,formState:{errors:r},reset:i}=w({resolver:C(T),defaultValues:{couponCode:``}});return(0,D.jsxs)(o,{component:`form`,onSubmit:n(t=>{e&&e(t.couponCode),i()}),className:`flex flex-col sm:flex-row items-stretch sm:items-center`,sx:{gap:{xs:2,md:4},width:`100%`},children:[(0,D.jsx)(y,{fullWidth:!0,placeholder:`Coupon Code`,variant:`outlined`,size:`medium`,className:`flex-1`,...t(`couponCode`),error:!!r.couponCode,helperText:r.couponCode?.message,sx:{"& .MuiOutlinedInput-root":{borderRadius:`4px`,fontSize:{xs:`0.875rem`,md:`1rem`}}}}),(0,D.jsx)(u,{type:`submit`,variant:`contained`,color:`error`,className:`!capitalize !font-medium whitespace-nowrap`,sx:{px:{xs:3,md:5,lg:6},py:{xs:1,md:1.5,lg:2},fontSize:{xs:`0.875rem`,md:`1rem`},minWidth:`fit-content`},children:`Apply Coupon`})]})},M=()=>(0,D.jsx)(o,{sx:{mb:{xs:1.5,sm:2,md:3}},children:(0,D.jsxs)(r,{separator:(0,D.jsx)(n,{fontSize:`small`,className:`text-gray-400`}),"aria-label":`breadcrumb`,children:[(0,D.jsx)(i,{underline:`hover`,color:`inherit`,href:`/`,className:`text-gray-500 hover:text-gray-700`,sx:{fontSize:{xs:`0.75rem`,md:`0.875rem`}},children:`Home`}),(0,D.jsx)(_,{className:`text-gray-900 font-medium`,sx:{fontSize:{xs:`0.75rem`,md:`0.875rem`}},children:`Cart`})]})}),N=()=>{let e=f(),t=p();h(t.breakpoints.down(`md`));let{items:n,removeFromCart:r,updateQuantity:i,getTotalPrice:a,clearCart:c}=g(),{isLoggedIn:l}=b(),d=a(),[y,S]=(0,E.useState)(!1),C=e=>r(String(e)),w=(e,t)=>i(String(e),t),T=()=>S(!0),N=()=>{c(),e(m.home)},P=()=>{l?e(m.checkout):e(m.auth.login,{state:{from:m.cart}})},F=e=>{console.log(`Apply coupon:`,e)};return(0,D.jsxs)(o,{sx:{width:`100%`,minHeight:`100vh`,bgcolor:`#fff`,display:`flex`,flexDirection:`column`,alignItems:`center`,py:{xs:4,md:8},px:{xs:2,sm:4,md:6}},children:[(0,D.jsx)(o,{sx:{width:`100%`,maxWidth:`1300px`,mx:`auto`},children:(0,D.jsx)(M,{})}),n.length===0?(0,D.jsxs)(o,{sx:{mt:8,textAlign:`center`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:2},children:[(0,D.jsx)(_,{variant:`h6`,sx:{fontWeight:500},children:`Your cart is empty ðŸ›’`}),(0,D.jsx)(_,{sx:{color:`text.secondary`,mb:3},children:`Browse our products and add items to your cart.`}),(0,D.jsx)(u,{variant:`contained`,color:`error`,onClick:N,sx:{textTransform:`none`,px:4,py:1.5,borderRadius:1,bgcolor:`#DB4444`,"&:hover":{bgcolor:`#c23b3b`}},children:`Return to Shop`})]}):(0,D.jsxs)(x,{maxWidth:`lg`,sx:{mt:2},children:[(0,D.jsxs)(o,{sx:{backgroundColor:`white`,border:`1px solid #E5E7EB`,borderRadius:`8px`,boxShadow:`0px 2px 8px rgba(0,0,0,0.05)`,p:{xs:2,sm:3,md:1},mb:4},children:[(0,D.jsx)(O,{}),(0,D.jsx)(o,{children:n.map(e=>(0,D.jsx)(k,{item:{...e,id:Number(e.id)},onUpdateQuantity:w,onRemove:C},e.id))})]}),(0,D.jsxs)(o,{sx:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,flexWrap:`wrap`,mt:2,mb:4,gap:2},children:[(0,D.jsx)(u,{variant:`outlined`,color:`inherit`,onClick:N,sx:{textTransform:`none`,borderColor:`#ddd`,color:`#222`,px:4,py:1,"&:hover":{borderColor:`#DB4444`,color:`#DB4444`}},children:`Return To Shop`}),(0,D.jsx)(u,{variant:`outlined`,color:`inherit`,onClick:T,disabled:n.length===0,sx:{textTransform:`none`,borderColor:`#ddd`,color:`#222`,px:4,py:1,"&:hover":{borderColor:`#DB4444`,color:`#DB4444`}},children:`Update Cart`})]}),(0,D.jsxs)(o,{sx:{display:`flex`,flexDirection:{xs:`column`,md:`row`},gap:{xs:3,md:4},alignItems:`flex-start`,justifyContent:`center`,width:`100%`,maxWidth:1100,mx:`auto`,mb:6},children:[(0,D.jsx)(o,{sx:{flex:1},children:(0,D.jsx)(j,{onApplyCoupon:F})}),(0,D.jsx)(o,{sx:{flex:1,maxWidth:400},children:(0,D.jsx)(A,{subtotal:d,shipping:`Free`,total:d,onCheckout:P})})]})]}),(0,D.jsx)(v,{open:y,autoHideDuration:3e3,onClose:()=>S(!1),anchorOrigin:{vertical:`bottom`,horizontal:`center`},children:(0,D.jsx)(s,{onClose:()=>S(!1),severity:`success`,sx:{width:`100%`},children:`Cart updated successfully!`})})]})};function P(){return(0,D.jsx)(N,{})}var F=P;export{F as default};