import{n as e,r as t,t as n}from"./app-snackbar-Dkm2H_Ms.js";import{At as r,Mt as i,P as a,T as o,_t as s,at as c,d as l,f as u,gt as d,ht as f,p,xt as m}from"./index-DnFRPfPh.js";import{i as h,n as g,o as _,t as v}from"./index.esm-Dwr4toAn.js";var y=i(r()),b=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,x=/^(\+?\d{1,3}[- ]?)?\d{10}$/,S=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;const C=v({email:g().trim().required(`Email or phone number is required`).test(`is-email-or-phone`,`Must be a valid email or phone number`,e=>e?b.test(e)||x.test(e):!1),password:g().required(`Password is required`).test(`password-strength`,`Password must contain at least 8 characters, one uppercase, one lowercase, and one number.`,e=>e?S.test(e):!1).max(20,`Password cannot exceed 20 characters`)});var w=i(m()),T=()=>{let e=s(),r=d(),i=c(),m=u(i.breakpoints.down(`md`)),g=r.state?.from||l.home,{register:v,handleSubmit:b,formState:{errors:x}}=_({resolver:h(C),mode:`onTouched`}),{mutateAsync:S,isPending:T}=t(),[E,D]=(0,y.useState)({open:!1,message:``,severity:`success`}),O=(e,t)=>{t!==`clickaway`&&D(e=>({...e,open:!1}))};return(0,w.jsxs)(`div`,{className:`w-full py-10`,children:[(0,w.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 -mx-6 md:-mx-0`,children:[!m&&(0,w.jsx)(`div`,{className:`flex justify-center items-center bg-[#CBE4E8] min-h-[600px] md:min-h-screen`,children:(0,w.jsx)(`img`,{src:`/E-commerce-d/assets/login-CgtRTIYq.jpg`,alt:`Login illustration`,className:`w-full h-full object-cover`})}),(0,w.jsx)(`div`,{className:`flex items-center justify-center px-6 py-12 ${m?`min-h-[80vh]`:`min-h-screen`}`,children:(0,w.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,w.jsx)(`h2`,{className:`text-3xl md:text-4xl font-medium mb-6 text-center md:text-left`,children:`Log in to Exclusive`}),(0,w.jsx)(`p`,{className:`text-base mb-12 text-center md:text-left`,children:`Enter your details below`}),(0,w.jsxs)(`form`,{onSubmit:b(async t=>{try{await S({email:t.email,password:t.password}),D({open:!0,message:`Login successful! Redirecting...`,severity:`success`}),setTimeout(()=>{e(g,{replace:!0})},1500)}catch(e){D({open:!0,message:e?.response?.data?.message||e?.message||`Login failed. Please check your credentials.`,severity:`error`})}}),className:`space-y-10`,children:[(0,w.jsx)(p,{fullWidth:!0,placeholder:`Email or Phone Number`,variant:`standard`,...v(`email`),error:!!x.email,helperText:x.email?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input::placeholder":{color:`#00000066`,opacity:1}}}),(0,w.jsx)(p,{fullWidth:!0,placeholder:`Password`,type:`password`,variant:`standard`,...v(`password`),error:!!x.password,helperText:x.password?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input::placeholder":{color:`#00000066`,opacity:1}}}),(0,w.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-center justify-between pt-4 gap-4`,children:[(0,w.jsx)(o,{type:`submit`,variant:`contained`,disabled:T,sx:{backgroundColor:`#DB4444`,color:`#fff`,textTransform:`none`,fontWeight:500,px:6,py:2,borderRadius:`4px`,fontSize:`16px`,"&:hover":{backgroundColor:`#b83636`}},children:T?(0,w.jsx)(a,{size:24,color:`inherit`}):`Log In`}),(0,w.jsx)(f,{to:`/forgot-password`,className:`text-base text-[#DB4444] hover:underline`,children:`Forget Password?`})]})]})]})})]}),(0,w.jsx)(n,{open:E.open,message:E.message,severity:E.severity,onClose:O})]})};function E(){return(0,w.jsx)(T,{})}var D=E;export{D as default};