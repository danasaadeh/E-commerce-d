import{n as e}from"./mutations-Cr9RCcXe.js";import{At as t,M as n,Mt as r,P as i,T as a,_t as o,at as s,d as c,f as l,ht as u,m as d,p as f,xt as p}from"./index-MqxR6K1Q.js";import{i as m,n as h,o as g,t as _}from"./index.esm-BzX1ga3J.js";var v=r(t()),y=/^[A-Za-z\s]{3,20}$/,b=/^((\+?\d{1,3}[- ]?)?\d{10}$)|(^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,x=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;const S=_({name:h().trim().required(`Full name is required`).matches(y,`Name must contain only letters and be between 3â€“20 characters`),email:h().trim().required(`Email or phone number is required`).matches(b,`Enter a valid email or phone number`),password:h().required(`Password is required`).test(`password-strength`,`Password must be strong (8+ chars, uppercase, lowercase, number, special char).`,e=>e?x.test(e):!1).max(20,`Password cannot exceed 20 characters`)});var C=r(p()),w=()=>{let t=o(),r=s(),p=l(r.breakpoints.down(`md`)),{register:h,handleSubmit:_,formState:{errors:y}}=g({resolver:m(S),mode:`onTouched`}),{mutateAsync:b,isPending:x}=e(),[w,T]=(0,v.useState)({open:!1,message:``,severity:`success`}),E=(e,t)=>{t!==`clickaway`&&T(e=>({...e,open:!1}))};return(0,C.jsxs)(`div`,{className:`w-full py-10`,children:[(0,C.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 -mx-6 md:-mx-0`,children:[!p&&(0,C.jsx)(`div`,{className:`flex justify-center items-center bg-[#CBE4E8] min-h-[600px] md:min-h-screen`,children:(0,C.jsx)(`img`,{src:`/E-commerce-d/src/assets/images/auth/login.jpg`,alt:`Shopping illustration`,className:`w-full h-full object-cover`})}),(0,C.jsx)(`div`,{className:`flex items-center justify-center px-6 py-12 ${p?`min-h-[80vh]`:`min-h-screen`}`,children:(0,C.jsxs)(`div`,{className:`w-full max-w-md`,children:[(0,C.jsx)(`h2`,{className:`text-3xl md:text-4xl font-medium mb-6 text-center md:text-left`,children:`Create an account`}),(0,C.jsx)(`p`,{className:`text-base mb-12 text-center md:text-left`,children:`Enter your details below`}),(0,C.jsxs)(`form`,{onSubmit:_(async e=>{try{await b({email:e.email,password:e.password}),T({open:!0,message:`Account created successfully!`,severity:`success`}),setTimeout(()=>{t(c.home)},1500)}catch(e){T({open:!0,message:e?.response?.data?.message||e?.message||`Sign-up failed. Please try again.`,severity:`error`})}}),className:`space-y-10`,children:[(0,C.jsx)(f,{fullWidth:!0,placeholder:`Name`,variant:`standard`,...h(`name`),error:!!y.name,helperText:y.name?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,C.jsx)(f,{fullWidth:!0,placeholder:`Email or Phone Number`,variant:`standard`,...h(`email`),error:!!y.email,helperText:y.email?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,C.jsx)(f,{fullWidth:!0,placeholder:`Password`,type:`password`,variant:`standard`,...h(`password`),error:!!y.password,helperText:y.password?.message,sx:{"& .MuiInput-root":{fontSize:`16px`},"& .MuiInput-input":{padding:`8px 0`}}}),(0,C.jsx)(a,{fullWidth:!0,type:`submit`,disabled:x,variant:`contained`,sx:{backgroundColor:`#DB4444`,color:`#fff`,textTransform:`none`,fontWeight:500,fontSize:`16px`,py:2,borderRadius:`4px`,mt:5,"&:hover":{backgroundColor:`#b83636`}},children:x?(0,C.jsx)(i,{size:24,color:`inherit`}):`Create Account`}),(0,C.jsx)(a,{fullWidth:!0,variant:`outlined`,startIcon:(0,C.jsx)(`img`,{src:`/src/assets/icons/Google.svg`,alt:`Google`,className:`w-6 h-6`}),sx:{textTransform:`none`,fontWeight:400,fontSize:`16px`,py:2,borderRadius:`4px`,borderColor:`rgba(0, 0, 0, 0.23)`,color:`#000`,mt:2,"&:hover":{borderColor:`rgba(0, 0, 0, 0.4)`,backgroundColor:`rgba(0, 0, 0, 0.04)`}},children:`Sign up with Google`})]}),(0,C.jsxs)(`p`,{className:`text-base text-center mt-8 flex items-center justify-center gap-4`,children:[(0,C.jsx)(`span`,{className:`opacity-70`,children:`Already have an account?`}),(0,C.jsx)(u,{to:c.auth.login,className:`font-medium underline decoration-1 underline-offset-4 hover:opacity-70 text-[#DB4444]`,children:`Log in`})]})]})})]}),(0,C.jsx)(d,{open:w.open,autoHideDuration:3e3,onClose:E,anchorOrigin:{vertical:`top`,horizontal:`right`},children:(0,C.jsx)(n,{onClose:E,severity:w.severity,variant:`filled`,sx:{width:`100%`},children:w.message})})]})};function T(){return(0,C.jsx)(w,{})}var E=T;export{E as default};